# global options
set -g mouse on
set -g @scroll-speed-num-lines-per-scroll 1

# set prefix key
unbind C-b
set -g prefix C-space
bind C-space send-prefix

# split windows using | and -; open windows and panes in cwd
unbind '"'
unbind %
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

# set status-utf8 on

# colors
set-option -g default-terminal "screen-256color"
# transparent
# set -g status-style bg=default

# override default nord-tmux status bar (adapted from nord-status-content.conf)
set -g @nord_tmux_show_status_content "0"
# tmux-prefix-highlight
set -g @prefix_highlight_output_prefix "#[fg=brightcyan]#[bg=black]#[nobold]#[noitalics]#[nounderscore]#[bg=brightcyan]#[fg=black]"
set -g @prefix_highlight_output_suffix ""
set -g @prefix_highlight_copy_mode_attr "fg=brightcyan,bg=black"
# bars
set -g status-left-length 80
set -g status-left "#[fg=black,bg=blue]  #S #[fg=blue,bg=black,nobold,noitalics,nounderscore]"
set -g status-right "#{prefix_highlight}#[fg=brightblack,bg=black,nobold,noitalics,nounderscore]#[fg=black,bg=brightblack]#[fg=cyan,bg=black,nobold,noitalics,nounderscore]#[fg=black,bg=cyan] #(echo '#H' | sed 's/[.]local$//g') "
# windows
set -g window-status-format "#[fg=black,bg=brightblack,nobold,noitalics,nounderscore] #[fg=gray,bg=brightblack] #I #[fg=gray,bg=brightblack,nobold,noitalics,nounderscore] #[fg=gray,bg=brightblack]#(echo '#{pane_current_path}' | sed 's#$HOME#~#g; s#\\(~\\)\\(/.*\\)\\(/.*\\)\\(/.*\\)\\(/.*\\)#\\1/…\\3\\4\\5#g; s#/#  #g') #[fg=brightblack,bg=black,nobold,noitalics,nounderscore]"
set -g window-status-current-format "#[fg=black,bg=cyan,nobold,noitalics,nounderscore] #[fg=black,bg=cyan] #I #[fg=black,bg=cyan,nobold,noitalics,nounderscore] #[fg=black,bg=cyan]#(echo '#{pane_current_path}' | sed 's#$HOME#~#g; s#\\(~\\)\\(/.*\\)\\(/.*\\)\\(/.*\\)\\(/.*\\)#\\1/…\\3\\4\\5#g; s#/#  #g') #[fg=cyan,bg=black,nobold,noitalics,nounderscore]"
set -g window-status-separator ""
# status bar divider
setw -g pane-border-status bottom
setw -g pane-border-format '' # ' #{pane_current_command} '

# initialize tmux plugin manager (keep this line at the bottom of tmux.conf)
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'nhdaly/tmux-better-mouse-mode'
set -g @plugin "arcticicestudio/nord-tmux"
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
run '~/.config/tmux/plugins/tpm/tpm'
